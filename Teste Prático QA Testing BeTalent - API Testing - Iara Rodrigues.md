API TESTING

**Nota**:
As evidências foram inicialmente incluídas como imagens em uma coluna nesta tabela. No entanto, devido às limitações do formato .md, as imagens não foram preservadas. As evidências completas podem ser visualizadas no arquivo exportado do Postman, disponível neste repositório.

| ID  | Funcionalidade Testada | Caso de Teste | Resultado Esperado | Situação do Teste | Bug Encontrado |
| ----- | ----- | ----- | ----- | ----- | ----- |
| A01 | Autenticação válida | **Dado** que o endpoint de autenticação está disponível **Quando** eu envio uma requisição com um "username" e "senha" válidos | **Então** o servidor deve responder com status: 200 Ok **E** deve retornar um token de autenticação | Passou | \- |
| A02 | Autenticação inválida | **Dado** que o endpoint de autenticação está disponível **Quando** eu envio uma requisição com um "username" inválido e uma "senha" válida | **Então** o servidor não deve retornar um token de autenticação | Passou | \- |
| A03 | Autenticação inválida | **Dado** que o endpoint de autenticação está disponível **Quando** eu envio uma requisição com um "username" inválido e uma "senha" válida | **Então** o servidor deve responder com o status: 401 Unauthorized | Falhou  | Está retornando status: 200 Ok, mas deveria retornar status: 401 Unauthorized |
| A04 | Autenticação inválida | **Dado** que o endpoint de autenticação está disponível **Quando** eu envio uma requisição com um "username" válido e uma "senha" inválida | **Então** o servidor não deve retornar um token de autenticação | Passou |  |
| A05 | Autenticação inválida | **Dado** que o endpoint de autenticação está disponível **Quando** eu envio uma requisição com um "username" válido e uma "senha" inválida | **Então** o servidor deve responder com o status: 401 Unauthorized | Falhou | Está retornando status: 200 Ok, mas deveria retornar status: 401 Unauthorized |
| A06 | Autenticação inválida | **Dado** que o endpoint de autenticação está disponível **Quando** eu envio uma requisição com  "username" e "senha" inválidos | **Então** o servidor não deve retornar um token de autenticação | Passou |  |
| A07 | Autenticação inválida | **Dado** que o endpoint de autenticação está disponível **Quando** eu envio uma requisição com  "username" e "senha" inválidos | **Então** o servidor deve responder com o status: 401 Unauthorized | Falhou | Está retornando status: 200 Ok, mas deveria retornar status: 401 Unauthorized |
| A08 | Gestão de reservas \- reserva válida | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição para criar uma reserva com dados válidos | **Então** o servidor deve responder com status: 200 Ok **E** deve retornar os detalhes da reserva e o id | Passou |  |
| A09 | Gestão de reservas \- reserva inválida | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição para criar uma reserva com “firstname” inválido | **Então** o servidor deve responder com status de erro apropriado | Falhou | Foi possível criar sem o firstname |
| A10 | Gestão de reservas \- reserva inválida | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição para criar uma reserva com “lastname” inválido | **Então** o servidor deve responder com status de erro apropriado | Falhou | Foi possível criar sem o lastname |
| A11 | Gestão de reservas \- reserva inválida | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição para criar uma reserva com “totalprice” inválido | **Então** o servidor deve responder com status de erro apropriado | Falhou | Foi possível criar com o preço total negativo |
| A12 | Gestão de reservas \- reserva inválida | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição para criar uma reserva com “bookingdates” inválido | **Então** o servidor deve responder com status de erro apropriado | Falhou | Ao não colocar a data completa, o sistema cria uma nova data, substituindo o valor inválido por um válido.Ex.: Ao não colocar o ano, foi substituído por 2001, e ao não colocar o dia, foi substituido por 01\. |
| A13 | Gestão de reservas \- busca de reservas válida | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição GET para buscar uma reserva específica com um id válido | **Então** o servidor deve responder com status: 200 Ok **E** deve retornar os detalhes da reserva buscada | Passou | \- |
| A14 | Gestão de reservas \- busca de reservas inválida | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição GET para buscar uma reserva específica com um id inválido | **Então** o servidor deve responder com status: 404 Not Found **E** não deve retornar dado de nenhuma reserva | Passou | \- |
| A15 | Gestão de reservas \- listar reservas | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição para listar todas as reservas | **Então** o servidor deve responder com status: 200 ok **E** deve retornar a lista de todas as reservas | Passou |  |
| A16 | Gestão de reservas \- editar reserva | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição PUT para atualizar uma reserva com um id e token válidos | **Então** o servidor deve responder com status: 200 Ok **E** deve retornar os dados atualizados da reserva | Passou |  |
| A17 | Gestão de reservas \- editar reserva  | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição PATCH para atualizar uma reserva com um id e token válidos | **Então** o servidor deve responder com status: 200 Ok **E** deve retornar os dados atualizados da reserva | Passou |  |
| A18 | Gestão de reservas \- editar reserva inválida | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição PUT para atualizar uma reserva com um id e token inválidos | **Então** o servidor deve responder com status: 404 Not Found | Falhou | Está retornado status: 405 Method Not Allowed |
| A19 | Gestão de reservas \- editar reserva inválida  | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição PATCH para atualizar uma reserva com um id e token inválidos | **Então** o servidor deve responder com status: 404 Not Found | Falhou | Está retornado status: 405 Method Not Allowed |
| A20 | Gestão de reservas \- deletar reserva | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição para deletar uma reserva com um id válido | **Então** o servidor deve excluir a reserva | Passou |  |
| A21 | Gestão de reservas \- deletar reserva | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição para deletar uma reserva com um id válido**E** o servidor excluir a reserva | **Então** o servidor deve responder com status 204 No Content **E** não deve retornar nenhum conteúdo | Falhou | O servidor está retornando status: 201 Created |
| A22 | Gestão de reservas \- deletar reserva inválida | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição para deletar uma reserva com um id inválido | **Então** o servidor deve responder com status 404 Not found | Falhou | Está retornado status: 405 Method Not Allowed |
| A23 | Filtros e buscas \- por nome válido | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição para buscar reservas por um nome válido | **Então** o servidor deve responder com status: 200 Ok **E** deve retornar as reservas que atendem ao filtro | Passou |  |
| A24 | Filtros e buscas \- por nome inválido | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição para buscar reservas por um nome inválido | **Então** o servidor deve responder com status: 404 Not Found **E** deve retornar vazio | Falhou | Retornou vazio, mas retornou status: 200 Ok |
| A25 | Filtros e buscas \- por check-in válido | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição para buscar reservas pela data de check-in | **Então** o servidor deve responder com status: 200 Ok **E** deve retornar as reservas que atendem ao filtro | Falhou | Adicionei um usuário com essa data de check-in mas não listou o id do usuário |
| A26 | Filtros e buscas \- por check-in inválido | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição para buscar reservas pela data de check-in | **Então** o servidor deve responder com status: 400 Bad Request **E** deve retornar as reservas que atendem ao filtro | Falhou | Está retornando status code 500 Internal Server Error, significa que este erro não está sendo devidamente tratado |
| A27 | Filtros e buscas \- por checkout válido | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição para buscar reservas pela data de check-out | **Então** o servidor deve responder com status: 200 Ok **E** deve retornar as reservas que atendem ao filtro | Passou |  |
| A28 | Filtros e buscas \- por checkout inválido | **Dado** que o endpoint de reservas está disponível **Quando** eu envio uma requisição para buscar reservas pela data de check-out inválida (02/20/2024) | **Então** o servidor deve responder com status: 400 Bad Request **E** deve retornar as reservas que atendem ao filtro | Falhou | Está retornando status code 500 Internal Server Error, significa que este erro não está sendo devidamente tratado |
